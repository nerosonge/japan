<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ—¥æœ¬èªã‚¯ã‚¤ã‚º | ì¼ë³¸ì–´ ë‹¨ì–´ í€´ì¦ˆ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #faf8f5;
      --surface: #fff;
      --ink: #1a1a1a;
      --muted: #6b6b6b;
      --accent: #c41e3a;
      --accent-soft: #fce8eb;
      --success: #2d6a4f;
      --success-soft: #d8f3dc;
      --error: #9d0208;
      --error-soft: #ffe5e5;
      --border: #e8e4df;
      --shadow: 0 4px 24px rgba(0,0,0,0.06);
      --radius: 16px;
      --radius-sm: 10px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Outfit', 'Noto Sans JP', sans-serif;
      background: var(--bg);
      color: var(--ink);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 24px;
      line-height: 1.5;
      position: relative;
    }

    /* ë²šê½ƒì ë–¨ì–´ì§€ëŠ” ë°°ê²½ */
    .petals-container {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
      z-index: -1;
      overflow: hidden;
    }

    .petal {
      position: absolute;
      width: 2cm;
      height: 2cm;
      top: -2cm;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cellipse cx='12' cy='12' rx='10' ry='12' fill='%23ffb7c5' opacity='0.9'/%3E%3Cellipse cx='12' cy='12' rx='8' ry='10' fill='%23ff9aad' opacity='0.6'/%3E%3C/svg%3E");
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      animation: petal-fall linear infinite;
    }

    @keyframes petal-fall {
      0% {
        transform: translateY(0) translateX(0) rotate(0deg);
      }
      25% {
        transform: translateY(25vh) translateX(15px) rotate(90deg);
      }
      50% {
        transform: translateY(50vh) translateX(-10px) rotate(180deg);
      }
      75% {
        transform: translateY(75vh) translateX(8px) rotate(270deg);
      }
      100% {
        transform: translateY(100vh) translateX(0) rotate(360deg);
      }
    }

    .container {
      width: 100%;
      max-width: 480px;
      background: var(--surface);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 32px;
      border: 1px solid var(--border);
    }

    h1 {
      font-size: 1.5rem;
      font-weight: 700;
      text-align: center;
      margin-bottom: 8px;
      color: var(--ink);
    }

    .subtitle {
      text-align: center;
      color: var(--muted);
      font-size: 0.9rem;
      margin-bottom: 28px;
    }

    /* ì‹œì‘ í™”ë©´ */
    .screen {
      display: none;
    }

    .screen.active {
      display: block;
    }

    .mode-select {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 24px;
    }

    .mode-btn input {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }

    .mode-btn {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px 18px;
      border: 2px solid var(--border);
      border-radius: var(--radius-sm);
      background: var(--surface);
      font-family: inherit;
      font-size: 1rem;
      font-weight: 500;
      color: var(--ink);
      cursor: pointer;
      transition: border-color 0.2s, background 0.2s;
      text-align: left;
    }

    .mode-btn:hover {
      border-color: var(--accent);
      background: var(--accent-soft);
    }

    .mode-btn:has(input:checked) {
      border-color: var(--accent);
      background: var(--accent-soft);
    }

    .mode-btn .icon {
      font-size: 1.4rem;
    }

    .start-btn {
      width: 100%;
      padding: 16px;
      border: none;
      border-radius: var(--radius-sm);
      background: var(--accent);
      color: white;
      font-family: inherit;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.1s, opacity 0.2s;
    }

    .start-btn:hover {
      opacity: 0.92;
    }

    .start-btn:active {
      transform: scale(0.98);
    }

    /* í€´ì¦ˆ í™”ë©´ */
    .progress-bar {
      height: 6px;
      background: var(--border);
      border-radius: 3px;
      margin-bottom: 24px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--accent);
      border-radius: 3px;
      transition: width 0.3s ease;
    }

    .progress-text {
      text-align: center;
      font-size: 0.85rem;
      color: var(--muted);
      margin-bottom: 20px;
    }

    .question-box {
      background: var(--bg);
      border-radius: var(--radius-sm);
      padding: 24px;
      margin-bottom: 24px;
      border: 1px solid var(--border);
    }

    .question-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .question-word {
      font-family: 'Noto Sans JP', sans-serif;
      font-size: 2rem;
      font-weight: 700;
      color: var(--ink);
    }

    .question-romaji {
      font-size: 0.95rem;
      color: var(--muted);
      margin-top: 6px;
    }

    .choices {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .choice-btn {
      padding: 14px 18px;
      border: 2px solid var(--border);
      border-radius: var(--radius-sm);
      background: var(--surface);
      font-family: inherit;
      font-size: 1rem;
      color: var(--ink);
      cursor: pointer;
      transition: border-color 0.2s, background 0.2s;
      text-align: left;
    }

    .choice-btn:hover:not(.correct):not(.wrong) {
      border-color: var(--accent);
      background: var(--accent-soft);
    }

    .choice-btn.correct {
      border-color: var(--success);
      background: var(--success-soft);
      color: var(--success);
    }

    .choice-btn.wrong {
      border-color: var(--error);
      background: var(--error-soft);
      color: var(--error);
    }

    .choice-btn:disabled {
      cursor: default;
      opacity: 0.9;
    }

    /* ê²°ê³¼ í™”ë©´ */
    .result-score {
      text-align: center;
      margin-bottom: 24px;
    }

    .result-score .number {
      font-size: 3rem;
      font-weight: 700;
      color: var(--accent);
      line-height: 1.2;
    }

    .result-score .label {
      font-size: 1rem;
      color: var(--muted);
      margin-top: 4px;
    }

    .result-message {
      text-align: center;
      font-size: 1.1rem;
      margin-bottom: 28px;
      color: var(--ink);
    }

    .again-btn {
      width: 100%;
      padding: 16px;
      border: 2px solid var(--accent);
      border-radius: var(--radius-sm);
      background: transparent;
      color: var(--accent);
      font-family: inherit;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
    }

    .again-btn:hover {
      background: var(--accent);
      color: white;
    }

    /* ì—°ë½í•˜ê¸° ë²„íŠ¼ */
    .contact-btn-wrap {
      margin-top: 20px;
      text-align: center;
    }

    .contact-btn {
      display: inline-block;
      padding: 12px 20px;
      border: 2px solid var(--accent);
      border-radius: var(--radius-sm);
      background: transparent;
      color: var(--accent);
      font-family: inherit;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
    }

    .contact-btn:hover {
      background: var(--accent);
      color: white;
    }

    /* ì—°ë½ ëª¨ë‹¬ */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.45);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
      padding: 24px;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal-box {
      background: var(--surface);
      border-radius: var(--radius);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
      padding: 28px;
      width: 100%;
      max-width: 360px;
      border: 1px solid var(--border);
    }

    .modal-title {
      font-size: 1.15rem;
      font-weight: 700;
      margin-bottom: 20px;
      text-align: center;
      color: var(--ink);
    }

    .form-group {
      margin-bottom: 16px;
    }

    .form-group label {
      display: block;
      font-size: 0.85rem;
      font-weight: 500;
      color: var(--ink);
      margin-bottom: 6px;
    }

    .form-group input {
      width: 100%;
      padding: 12px 14px;
      border: 2px solid var(--border);
      border-radius: var(--radius-sm);
      font-family: inherit;
      font-size: 1rem;
      color: var(--ink);
    }

    .form-group input:focus {
      outline: none;
      border-color: var(--accent);
    }

    .form-group input::placeholder {
      color: var(--muted);
    }

    .modal-actions {
      display: flex;
      gap: 10px;
      margin-top: 24px;
    }

    .modal-actions .submit-btn {
      flex: 1;
      padding: 12px;
      border: none;
      border-radius: var(--radius-sm);
      background: var(--accent);
      color: white;
      font-family: inherit;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
    }

    .modal-actions .submit-btn:hover {
      opacity: 0.92;
    }

    .modal-actions .close-btn {
      padding: 12px 16px;
      border: 2px solid var(--border);
      border-radius: var(--radius-sm);
      background: var(--surface);
      font-family: inherit;
      font-size: 1rem;
      color: var(--muted);
      cursor: pointer;
    }

    .modal-actions .close-btn:hover {
      border-color: var(--accent);
      color: var(--accent);
    }
  </style>
</head>
<body>
  <div class="petals-container" id="petals-container" aria-hidden="true"></div>
  <div class="container">
    <!-- ì‹œì‘ í™”ë©´ -->
    <section id="start-screen" class="screen active">
      <h1>æ—¥æœ¬èªã‚¯ã‚¤ã‚º</h1>
      <p class="subtitle">ì¼ë³¸ì–´ ë‹¨ì–´ í€´ì¦ˆ</p>
      <div class="mode-select">
        <label class="mode-btn">
          <input type="radio" name="mode" value="ja-en" checked>
          <span class="icon">ğŸ‡¯ğŸ‡µ</span>
          <span>ì¼ë³¸ì–´ â†’ ëœ» (í•œêµ­ì–´/ì˜ì–´)</span>
        </label>
        <label class="mode-btn">
          <input type="radio" name="mode" value="en-ja">
          <span class="icon">ğŸ“–</span>
          <span>ëœ» â†’ ì¼ë³¸ì–´</span>
        </label>
      </div>
      <button type="button" class="start-btn" id="start-btn">í€´ì¦ˆ ì‹œì‘</button>
      <div class="contact-btn-wrap">
        <button type="button" class="contact-btn" id="contact-open-btn">ë²„íŠ¼ì„ ëˆŒëŸ¬ ì¼ë³¸ì¸ ì¹œêµ¬ë¥¼ ë§Œë‚˜ë³´ì„¸ìš”!</button>
      </div>
    </section>

    <!-- í€´ì¦ˆ í™”ë©´ -->
    <section id="quiz-screen" class="screen">
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
      </div>
      <p class="progress-text" id="progress-text">1 / 10</p>
      <div class="question-box">
        <p class="question-label" id="question-label">ë‹¤ìŒ ë‹¨ì–´ì˜ ëœ»ì€?</p>
        <p class="question-word" id="question-word"></p>
        <p class="question-romaji" id="question-romaji"></p>
      </div>
      <div class="choices" id="choices"></div>
    </section>

    <!-- ê²°ê³¼ í™”ë©´ -->
    <section id="result-screen" class="screen">
      <div class="result-score">
        <p class="number" id="result-number">0</p>
        <p class="label" id="result-label">ë§íŒ ê°œìˆ˜</p>
      </div>
      <p class="result-message" id="result-message"></p>
      <button type="button" class="again-btn" id="again-btn">ë‹¤ì‹œ í•˜ê¸°</button>
    </section>
  </div>

  <!-- ì—°ë½ ëª¨ë‹¬ -->
  <div class="modal-overlay" id="contact-modal" aria-hidden="true">
    <div class="modal-box" id="contact-modal-box">
      <h2 class="modal-title">ì¼ë³¸ì¸ ì¹œêµ¬ ë§Œë‚˜ê¸°</h2>
      <form id="contact-form">
        <div class="form-group">
          <label for="contact-name">ì´ë¦„</label>
          <input type="text" id="contact-name" name="name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" required>
        </div>
        <div class="form-group">
          <label for="contact-phone">ì „í™”ë²ˆí˜¸</label>
          <input type="tel" id="contact-phone" name="phone" placeholder="010-0000-0000" required>
        </div>
        <div class="form-group">
          <label for="contact-email">ì´ë©”ì¼</label>
          <input type="email" id="contact-email" name="email" placeholder="example@email.com" required>
        </div>
        <div class="modal-actions">
          <button type="button" class="close-btn" id="contact-close-btn">ì·¨ì†Œ</button>
          <button type="submit" class="submit-btn">ì œì¶œí•˜ê¸°</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    const vocabulary = [
      { ja: 'æ°´', romaji: 'mizu', meaning: 'ë¬¼' },
      { ja: 'ç«', romaji: 'hi', meaning: 'ë¶ˆ' },
      { ja: 'äºº', romaji: 'hito', meaning: 'ì‚¬ëŒ' },
      { ja: 'å±±', romaji: 'yama', meaning: 'ì‚°' },
      { ja: 'å·', romaji: 'kawa', meaning: 'ê°•' },
      { ja: 'æœ¨', romaji: 'ki', meaning: 'ë‚˜ë¬´' },
      { ja: 'æ—¥', romaji: 'hi', meaning: 'ë‚ , í•´' },
      { ja: 'æœˆ', romaji: 'tsuki', meaning: 'ë‹¬' },
      { ja: 'é‡‘', romaji: 'kane', meaning: 'ëˆ, ê¸ˆ' },
      { ja: 'è»Š', romaji: 'kuruma', meaning: 'ì°¨' },
      { ja: 'æœ¬', romaji: 'hon', meaning: 'ì±…' },
      { ja: 'å‹é”', romaji: 'tomodachi', meaning: 'ì¹œêµ¬' },
      { ja: 'å…ˆç”Ÿ', romaji: 'sensei', meaning: 'ì„ ìƒë‹˜' },
      { ja: 'å­¦ç”Ÿ', romaji: 'gakusei', meaning: 'í•™ìƒ' },
      { ja: 'å…ƒæ°—', romaji: 'genki', meaning: 'ê±´ê°•í•œ, í˜ì´ ë„˜ì¹˜ëŠ”' },
      { ja: 'å…ƒæ°—ã§ã™ã‹', romaji: 'genki desu ka', meaning: 'ì˜ ì§€ë‚´ìš”?' },
      { ja: 'åå‰', romaji: 'namae', meaning: 'ì´ë¦„' },
      { ja: 'é£Ÿã¹ã‚‹', romaji: 'taberu', meaning: 'ë¨¹ë‹¤' },
      { ja: 'é£²ã‚€', romaji: 'nomu', meaning: 'ë§ˆì‹œë‹¤' },
      { ja: 'è¡Œã', romaji: 'iku', meaning: 'ê°€ë‹¤' },
      { ja: 'æ¥ã‚‹', romaji: 'kuru', meaning: 'ì˜¤ë‹¤' },
      { ja: 'è¦‹ã‚‹', romaji: 'miru', meaning: 'ë³´ë‹¤' },
      { ja: 'èã', romaji: 'kiku', meaning: 'ë“£ë‹¤, ë¬»ë‹¤' },
      { ja: 'èª­ã‚€', romaji: 'yomu', meaning: 'ì½ë‹¤' },
      { ja: 'æ›¸ã', romaji: 'kaku', meaning: 'ì“°ë‹¤' },
      { ja: 'å¤§ãã„', romaji: 'ookii', meaning: 'í¬ë‹¤' },
      { ja: 'å°ã•ã„', romaji: 'chiisai', meaning: 'ì‘ë‹¤' },
      { ja: 'æ–°ã—ã„', romaji: 'atarashii', meaning: 'ìƒˆë¡œìš´' },
      { ja: 'å¤ã„', romaji: 'furui', meaning: 'ì˜¤ë˜ëœ' },
      { ja: 'ãŠã„ã—ã„', romaji: 'oishii', meaning: 'ë§›ìˆë‹¤' },
      { ja: 'ã‚ã‚ŠãŒã¨ã†', romaji: 'arigatou', meaning: 'ê°ì‚¬í•©ë‹ˆë‹¤' },
      { ja: 'ã™ã¿ã¾ã›ã‚“', romaji: 'sumimasen', meaning: 'ì£„ì†¡í•©ë‹ˆë‹¤' },
      { ja: 'ãŠã¯ã‚ˆã†', romaji: 'ohayou', meaning: 'ì¢‹ì€ ì•„ì¹¨' },
      { ja: 'ã“ã‚“ã«ã¡ã¯', romaji: 'konnichiwa', meaning: 'ì•ˆë…•í•˜ì„¸ìš”' },
      { ja: 'ã“ã‚“ã°ã‚“ã¯', romaji: 'konbanwa', meaning: 'ì¢‹ì€ ì €ë…' },
      { ja: 'ã•ã‚ˆã†ãªã‚‰', romaji: 'sayounara', meaning: 'ì•ˆë…•íˆ ê°€ì„¸ìš”' },
      { ja: 'ä»Šæ—¥', romaji: 'kyou', meaning: 'ì˜¤ëŠ˜' },
      { ja: 'æ˜æ—¥', romaji: 'ashita', meaning: 'ë‚´ì¼' },
      { ja: 'æ˜¨æ—¥', romaji: 'kinou', meaning: 'ì–´ì œ' },
    ];

    const QUIZ_SIZE = 10;
    const CHOICES_COUNT = 4;

    let currentMode = 'ja-en';
    let quizSet = [];
    let currentIndex = 0;
    let score = 0;

    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultScreen = document.getElementById('result-screen');
    const startBtn = document.getElementById('start-btn');
    const againBtn = document.getElementById('again-btn');
    const progressFill = document.getElementById('progress-fill');
    const progressText = document.getElementById('progress-text');
    const questionLabel = document.getElementById('question-label');
    const questionWord = document.getElementById('question-word');
    const questionRomaji = document.getElementById('question-romaji');
    const choicesEl = document.getElementById('choices');
    const resultNumber = document.getElementById('result-number');
    const resultLabel = document.getElementById('result-label');
    const resultMessage = document.getElementById('result-message');

    function getRandomItems(arr, n) {
      const shuffled = [...arr].sort(() => Math.random() - 0.5);
      return shuffled.slice(0, n);
    }

    function getWrongChoices(correctMeaning, count) {
      const others = vocabulary
        .map(v => v.meaning)
        .filter(m => m !== correctMeaning);
      const shuffled = [...others].sort(() => Math.random() - 0.5);
      return shuffled.slice(0, count);
    }

    function startQuiz() {
      currentMode = document.querySelector('input[name="mode"]:checked').value;
      quizSet = getRandomItems(vocabulary, QUIZ_SIZE);
      currentIndex = 0;
      score = 0;
      startScreen.classList.remove('active');
      quizScreen.classList.add('active');
      showQuestion();
    }

    function showQuestion() {
      const item = quizSet[currentIndex];
      const progress = ((currentIndex + 1) / QUIZ_SIZE) * 100;
      progressFill.style.width = progress + '%';
      progressText.textContent = `${currentIndex + 1} / ${QUIZ_SIZE}`;

      if (currentMode === 'ja-en') {
        questionLabel.textContent = 'ë‹¤ìŒ ë‹¨ì–´ì˜ ëœ»ì€?';
        questionWord.textContent = item.ja;
        questionRomaji.textContent = item.romaji;
        questionRomaji.style.display = 'block';

        const wrongs = getWrongChoices(item.meaning, CHOICES_COUNT - 1);
        const options = [item.meaning, ...wrongs].sort(() => Math.random() - 0.5);
        renderChoices(options, item.meaning, null);
      } else {
        questionLabel.textContent = 'ë‹¤ìŒ ëœ»ì— ë§ëŠ” ì¼ë³¸ì–´ëŠ”?';
        questionWord.textContent = item.meaning;
        questionRomaji.style.display = 'none';

        const wrongs = vocabulary
          .filter(v => v.ja !== item.ja)
          .map(v => v.ja)
          .sort(() => Math.random() - 0.5)
          .slice(0, CHOICES_COUNT - 1);
        const options = [item.ja, ...wrongs].sort(() => Math.random() - 0.5);
        renderChoices(options, item.ja, item.romaji);
      }
    }

    function renderChoices(options, correctValue, romajiHint) {
      choicesEl.innerHTML = '';
      options.forEach(opt => {
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'choice-btn';
        btn.textContent = opt;
        btn.addEventListener('click', () => handleChoice(btn, opt, correctValue, romajiHint));
        choicesEl.appendChild(btn);
      });
    }

    function handleChoice(btn, chosen, correct, romajiHint) {
      const allBtns = choicesEl.querySelectorAll('.choice-btn');
      allBtns.forEach(b => {
        b.disabled = true;
        if (b.textContent === correct) b.classList.add('correct');
        else if (b === btn && chosen !== correct) b.classList.add('wrong');
      });

      if (chosen === correct) score++;

      setTimeout(() => {
        currentIndex++;
        if (currentIndex < QUIZ_SIZE) {
          showQuestion();
        } else {
          showResult();
        }
      }, 800);
    }

    function showResult() {
      quizScreen.classList.remove('active');
      resultScreen.classList.add('active');
      resultNumber.textContent = `${score} / ${QUIZ_SIZE}`;
      resultLabel.textContent = 'ë§íŒ ê°œìˆ˜';

      let msg = '';
      if (score === QUIZ_SIZE) msg = 'ì™„ë²½í•´ìš”! ğŸŒ';
      else if (score >= QUIZ_SIZE * 0.8) msg = 'ì˜í–ˆì–´ìš”!';
      else if (score >= QUIZ_SIZE * 0.5) msg = 'ê´œì°®ì•„ìš”. ì¡°ê¸ˆë§Œ ë” ì—°ìŠµí•´ ë³´ì„¸ìš”.';
      else msg = 'ë‹¤ì‹œ ë„ì „í•´ ë³´ì„¸ìš”!';
      resultMessage.textContent = msg;
    }

    function goStart() {
      resultScreen.classList.remove('active');
      startScreen.classList.add('active');
    }

    startBtn.addEventListener('click', startQuiz);
    againBtn.addEventListener('click', goStart);

    // ì—°ë½í•˜ê¸° ëª¨ë‹¬
    const CONTACT_EMAIL = 'spring8rt@gmail.com';
    const contactModal = document.getElementById('contact-modal');
    const contactOpenBtn = document.getElementById('contact-open-btn');
    const contactCloseBtn = document.getElementById('contact-close-btn');
    const contactForm = document.getElementById('contact-form');
    const contactModalBox = document.getElementById('contact-modal-box');

    contactOpenBtn.addEventListener('click', function () {
      contactModal.classList.add('active');
      contactModal.setAttribute('aria-hidden', 'false');
    });

    function closeContactModal() {
      contactModal.classList.remove('active');
      contactModal.setAttribute('aria-hidden', 'true');
    }

    contactCloseBtn.addEventListener('click', closeContactModal);
    contactModal.addEventListener('click', function (e) {
      if (e.target === contactModal) closeContactModal();
    });
    contactModalBox.addEventListener('click', function (e) {
      e.stopPropagation();
    });

    contactForm.addEventListener('submit', function (e) {
      e.preventDefault();
      const name = document.getElementById('contact-name').value.trim();
      const phone = document.getElementById('contact-phone').value.trim();
      const email = document.getElementById('contact-email').value.trim();
      const subject = encodeURIComponent('[ì¼ë³¸ì–´ í€´ì¦ˆ] ì¼ë³¸ì¸ ì¹œêµ¬ ë§Œë‚˜ê¸° ë¬¸ì˜');
      const body = encodeURIComponent(
        'ì•„ë˜ ì •ë³´ë¡œ ì—°ë½í•´ ì£¼ì„¸ìš”.\n\n' +
        'ì´ë¦„: ' + name + '\n' +
        'ì „í™”ë²ˆí˜¸: ' + phone + '\n' +
        'ì´ë©”ì¼: ' + email
      );
      const mailto = 'mailto:' + CONTACT_EMAIL + '?subject=' + subject + '&body=' + body;
      window.location.href = mailto;
      closeContactModal();
      contactForm.reset();
    });

    // ë²šê½ƒì ëœë¤ ìƒì„± (ì•½ 2cm, ìœ„â†’ì•„ë˜ ëœë¤ ë–¨ì–´ì§)
    (function initPetals() {
      const container = document.getElementById('petals-container');
      const petalCount = 18;

      for (let i = 0; i < petalCount; i++) {
        const petal = document.createElement('div');
        petal.className = 'petal';
        petal.style.left = Math.random() * 100 + '%';
        petal.style.animationDuration = (8 + Math.random() * 10) + 's';
        petal.style.animationDelay = Math.random() * 12 + 's';
        petal.style.opacity = 0.6 + Math.random() * 0.35;
        container.appendChild(petal);
      }
    })();
  </script>
</body>
</html>
